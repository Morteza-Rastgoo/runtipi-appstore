{
  "$schema": "../dynamic-compose-schema.json",
  "services": [
    {
      "name": "n8n-mcp",
      "image": "ghcr.io/czlonkowski/n8n-mcp:latest",
      "isMain": true,
      "internalPort": 8216,
      "environment": {
        "N8N_BASE_URL": "${N8N_BASE_URL}",
        "N8N_API_TOKEN": "${N8N_API_TOKEN}",
        "SERVER_PORT": "${SERVER_PORT:-8216}"
      },
      "healthCheck": {
        "test": "curl -f http://localhost:${SERVER_PORT:-8216}/health",
        "interval": "30s",
        "timeout": "10s",
        "retries": 3,
        "startPeriod": "40s"
      }
    }
  ]
}
